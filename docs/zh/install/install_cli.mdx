---
weight: 10
sourceSHA: d168814a6e9acc5d2ee517175cb2d64aa302478089362d3e57cf844681528478
---

# Roxctl CLI 安装

本指南描述了如何安装和验证 Alauda 容器安全的 `roxctl` 命令行界面 (CLI)。您可以在 Linux、macOS 或 Windows 上安装 `roxctl`，或直接从容器镜像中运行它。

---

## 概述

- **roxctl** 是一个用于管理和与 Kubernetes 的 Alauda 容器安全进行交互的 CLI 工具。
- 支持的平台：**Linux**、**macOS**、**Windows** 和 **容器镜像**。
- 安装后，您可以验证 CLI 版本以确保其正确设置。

---

## 安装方法

### 1. 在 Linux 上安装

> 支持的架构：`amd64`、`arm64`、`ppc64le`、`s390x`

**步骤：**

1. 确定架构：
   ```bash
   arch="$(uname -m | sed 's/x86_64//')"; arch="${arch:+-$arch}"
   ```
2. 下载二进制文件：
   ```bash
   curl -L -f -o roxctl "https://mirror.openshift.com/pub/rhacs/assets/4.7.3/bin/Linux/roxctl${arch}"
   ```
3. 使其可执行：
   ```bash
   chmod +x roxctl
   ```
4. 移动到您的 `PATH` 中的目录（可选）：
   ```bash
   echo $PATH
   # mv roxctl /usr/local/bin/
   ```

---

### 2. 在 macOS 上安装

> 支持的架构：`amd64`、`arm64`

**步骤：**

1. 确定架构：
   ```bash
   arch="$(uname -m | sed 's/x86_64//')"; arch="${arch:+-$arch}"
   ```
2. 下载二进制文件：
   ```bash
   curl -L -f -o roxctl "https://mirror.openshift.com/pub/rhacs/assets/4.7.3/bin/Darwin/roxctl${arch}"
   ```
3. 移除扩展属性：
   ```bash
   xattr -c roxctl
   ```
4. 使其可执行：
   ```bash
   chmod +x roxctl
   ```
5. 移动到您的 `PATH` 中的目录（可选）：
   ```bash
   echo $PATH
   # mv roxctl /usr/local/bin/
   ```

---

### 3. 在 Windows 上安装

> 支持的架构：`amd64`

**步骤：**

1. 下载二进制文件：
   ```bash
   curl -f -O https://mirror.openshift.com/pub/rhacs/assets/4.7.3/bin/Windows/roxctl.exe
   ```
2. （可选）将包含 `roxctl.exe` 的目录添加到您的系统 `PATH` 中，以便从任何命令提示符轻松访问。
3. 验证安装：
   ```bash
   roxctl.exe version
   ```

---

### 4. 从容器镜像运行

您可以直接从容器镜像运行 `roxctl`，而无需安装二进制文件。

**先决条件：**

- 从 Alauda 容器安全门户生成身份验证令牌。

**步骤：**

1. 登录到注册表：
   ```bash
   docker login registry.redhat.io
   ```
2. 拉取容器镜像：
   ```bash
   docker pull registry.redhat.io/advanced-cluster-security/rhacs-roxctl-rhel8:4.7.3
   ```
3. 运行 `roxctl`：
   ```bash
   docker run -e ROX_API_TOKEN=$ROX_API_TOKEN \
     -it registry.redhat.io/advanced-cluster-security/rhacs-roxctl-rhel8:4.7.3 \
     -e $ROX_CENTRAL_ADDRESS <command>
   ```

> **注意：** 在 Alauda 容器安全云服务中，请使用 Alauda 混合云控制台的 **实例详细信息** 部分中的 **中央实例地址**（例如，`acs-ABCD12345.acs.rhcloud.com`）。

---

## 验证

安装后（任何方法），验证您的 `roxctl` 版本：

- 对于本地二进制文件：
  ```bash
  roxctl version
  ```
- 对于容器镜像：
  ```bash
  docker run -it registry.redhat.io/advanced-cluster-security/rhacs-roxctl-rhel8:4.7.3 version
  ```
