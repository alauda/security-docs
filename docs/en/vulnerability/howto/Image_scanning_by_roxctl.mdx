---
weight: 30
---

# Image Scanning Using the roxctl CLI

You can scan images stored in image registries, including cluster local registries such as the Alauda Container Platform integrated image registry, by using the `roxctl` CLI.

By specifying the appropriate cluster in the delegated scanning configuration or through the cluster parameter described below, you can scan images from cluster local registries using a remote cluster.

> **Important**
> Delegated scanning allows you to scan images in remote clusters by specifying the cluster parameter.

## Scanning an Image in a Remote Cluster

Run the following command to scan the specified image in a remote cluster:

```bash
roxctl image scan \
  --image=<image_registry>/<image_name> \
  --cluster=<cluster_detail> \
  [flags]
```

- For `<image_registry>`, specify the registry where the image is located, e.g., `image-registry.alauda-image-registry.svc:5000/`.
- For `<image_name>`, specify the name of the image you want to scan, e.g., `default/image-stream:latest`.
- For `<cluster_detail>`, specify the name or ID of the remote cluster, e.g., `remote`.
- `[flags]` are optional parameters to modify the command behavior.

### Example Output

```json
{
  "Id": "sha256:3f439d7d71adb0a0c8e05257c091236ab00c6343bc44388d091450ff58664bf9",
  "name": {
    "registry": "image-registry.alauda-image-registry.svc:5000",
    "remote": "default/image-stream",
    "tag": "latest",
    "fullName": "image-registry.alauda-image-registry.svc:5000/default/image-stream:latest"
  }
  // ...
}
```

- `Id`: A unique identifier for the image, serving as a fingerprint for integrity and authenticity.
- `name.registry`: The image registry location.
- `name.remote`: The remote path to the image.
- `name.tag`: The version or tag of the image.
- `name.fullName`: The complete name of the image (registry, path, tag).

## roxctl image scan Command Options

#### Option Descriptions

| Option | Description |
| ------ | ----------- |
| `--cluster string` | Delegate image scanning to a specific cluster. |
| `--compact-output` | Print the JSON output in a compact format. Default: `false`. |
| `-f, --force` | Ignore Central's cache for the scan and force a fresh re-pull from Scanner. Default: `false`. |
| `--headers strings` | Print the headers in a tabular format. Default: `COMPONENT`, `VERSION`, `CVE`, `SEVERITY`, `LINK`. |
| `--headers-as-comments` | Print the headers as comments in a CSV tabular output. Default: `false`. |
| `-h, --help` | View the help text for the `roxctl image scan` command. |
| `-i, --image string` | Specify the image name and reference you want to scan. |
| `-a, --include-snoozed` | Return both snoozed and unsnoozed CVEs. Default: `false`. |
| `--merge-output` | Merge duplicate cells in a tabular output. Default: `true`. |
| `--no-header` | Do not print headers for tabular format. Default: `false`. |
| `-o, --output string` | Specify the output format: `table`, `CSV`, `JSON`, or `SARIF`. |
| `-r, --retries int` | Set the number of retries before aborting with an error. Default: `3`. |
| `-d, --retry-delay int` | Set the time in seconds to wait between retries. Default: `3`. |
| `--row-jsonpath-expressions string` | Use JSON path expressions to create rows from the JSON object. See `roxctl image scan --help` for details. |
